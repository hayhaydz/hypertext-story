(this["webpackJsonphypertext-story"]=this["webpackJsonphypertext-story"]||[]).push([[0],{33:function(e,t,a){e.exports=a(68)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(25),l=a.n(o),c=(a(38),a(6)),i=a(7),r=(a(39),a(40),a(30)),m=function(){var e=s.a.useState(0),t=Object(r.a)(e,2),a=t[0],n=t[1],o=s.a.useRef(),l=s.a.useRef(),c=function e(t){if(void 0!==l.current){var a=t-l.current;n((function(e){return(e+.002*a)%3}))}l.current=t,o.current=requestAnimationFrame(e)};s.a.useEffect((function(){return o.current=requestAnimationFrame(c),function(){return cancelAnimationFrame(o.current)}}),[]);var i=[],m={emoji:"\ud83c\udf5d",label:"Pasta"};return i.push(m),m={emoji:"\ud83c\udf7d\ufe0f",label:"Knife and Fork with Plate"},i.push(m),m={emoji:"\ud83c\udf7b",label:"Clinking beer mugs"},i.push(m),m={emoji:"\ud83c\udf5f",label:"French fries"},i.push(m),s.a.createElement("div",{className:"Home__right--emoji"},s.a.createElement("span",{role:"img","aria-label":i[Math.round(a)].label,"aria-hidden":i[Math.round(a)].label},i[Math.round(a)].emoji))};var h=function(){return s.a.createElement("div",{className:"Home"},s.a.createElement("div",{className:"Home__left"},s.a.createElement("h1",{className:"Home__left--title Home__left--title_top"},"Student"),s.a.createElement("h1",{className:"Home__left--title Home__left--title_bottom"},"Meals"),s.a.createElement(c.b,{className:"Home__left--btn",to:"/Instructions"},s.a.createElement("span",null,"Begin your journey"),s.a.createElement("i",{className:"material-icons"},"arrow_forward"))),s.a.createElement("div",{className:"Home__right"},s.a.createElement(m,null),s.a.createElement("svg",{width:"1018",height:"1042",viewBox:"0 0 1018 1042",className:"Home__right--blob",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("g",{filter:"url(#filter0_i)"},s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M63.6424 535.675C54.0172 437.666 64.9543 329.838 128.91 254.951C188.611 185.045 297.468 199.735 381.798 163.136C458.212 129.972 515.17 55.2984 598.37 51.2051C690.822 46.6566 796.706 67.4545 854.338 139.887C911.17 211.315 854.979 318.092 880.463 405.741C912.2 514.9 1040.51 596.258 1019.51 707.981C998.334 820.658 890.96 915.349 779.581 942.534C672.644 968.634 581.305 864.802 473.795 841.176C376.435 819.78 263.516 871.1 183.572 811.555C101.138 750.154 73.6886 637.972 63.6424 535.675Z",fill:"#FFC370"})),s.a.createElement("defs",null,s.a.createElement("filter",{id:"filter0_i",x:"0",y:"-15",width:"1082.78",height:"1059.3",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},s.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),s.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),s.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.a.createElement("feOffset",{dx:"25",dy:"-15"}),s.a.createElement("feGaussianBlur",{stdDeviation:"25"}),s.a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),s.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),s.a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"}))))))};a(46);var d=function(){return s.a.createElement("div",{className:"Instructions"},s.a.createElement("div",{className:"Instructions__logo"},s.a.createElement("h1",{className:"Instructions__logo--top"},"Student"),s.a.createElement("h1",{className:"Instructions__logo--bottom"},"Meals")),s.a.createElement("h2",{className:"Instructions__title"},"Instructions"),s.a.createElement("div",{className:"Instructions__content"},s.a.createElement("p",{className:"Instructions__content--paragraph"},"Each day a selection of meal choices will be given to you, you will need to select the best meal choice for that day. Ensure that you maintain a healthy diet. If you need any help then click the help button in the top right, this can be used a maximum of 5 times throughout the story!")),s.a.createElement(c.b,{className:"Instructions__btn",to:"/Story"},s.a.createElement("span",null,"Next"),s.a.createElement("i",{className:"material-icons"},"arrow_forward")))},u=a(28),f=a(31),p=a(29),E=a(8),v=a(32),_=a(14),y=a.n(_),g=(a(64),a(65),function(e){return s.a.createElement("div",{className:"Choice"},s.a.createElement("h1",{className:"Choice__title"},"Day ",e.day),s.a.createElement("button",{className:"Choice__helpBtn",onClick:e.handleHelpClick},s.a.createElement("span",{className:"material-icons"},"help")),s.a.createElement("div",{className:"Choice__options"},e.elements.map((function(t){return s.a.createElement("div",{className:"Choice__options--option",key:t.id,onClick:e.handleElementClick(t.id),id:"option_".concat(t.id)},s.a.createElement("div",{className:"Choice__options--option-emoji"},s.a.createElement("span",{role:"img","aria-label":"Mushroom"},t.emoji)),s.a.createElement("p",{className:"Choice__options--option-name"},t.value))}))))}),C=(a(66),function(e){return s.a.createElement("div",{className:"Interlude"},s.a.createElement("h1",{className:"Interlude__title"},e.title),s.a.createElement("p",{className:"Interlude__text"},e.details))}),b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){y.a.get("./data_choices.json").then((function(e){var t=a.shuffleArray(e.data.choices);a.setState({choices:t},(function(){a.setState({choiceElements:a.state.choices[0]},(function(){var e=a.shuffleArray(a.state.choiceElements);a.setState({choiceElements:e})}))}))})),y.a.get("./data_events.json").then((function(e){var t=e.data.events;a.setState({events:t},(function(){a.setState({eventElement:a.state.events[a.state.eventsIndex][1]})}))}))},a.shuffleArray=function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e},a.displayMessage=function(e,t,n){var s={state:t,data:e};a.setState({message:s},(function(){var e=document.getElementById("story-message");e.style.opacity=1,setTimeout((function(){e.style.opacity=0,setTimeout((function(){s.data="",a.setState({message:s})}),200)}),n)}))},a.handleElementClick=function(e){return function(t){t.preventDefault(),a.state.selectionMade||a.setState({selectionMade:!0}),document.getElementById("option_"+e).classList.add("Choice__options--option-selected");for(var n=a.state.choiceElements,s=0;s<n.length;s++)if(n[s].id!==e){if(n[s].selected){var o=a.state.choiceElements[s];document.getElementById("option_"+o.id).classList.remove("Choice__options--option-selected"),n[s].selected=!1}}else n[s].selected=!0;a.setState({choiceElements:n})}},a.handleHelpCLick=function(e){if(!a.state.helpCountUsed)if(a.state.helpCount<5){for(var t=0;t<a.state.choiceElements.length;t++){var n=a.state.choiceElements[t].id,s=document.getElementById("option_"+n).children[0];switch(a.state.choiceElements[t].quality){case"good":s.classList.add("Choice__options--option-emoji--good");break;case"okay":s.classList.add("Choice__options--option-emoji--okay");break;case"bad":s.classList.add("Choice__options--option-emoji--bad")}}a.setState({helpCountUsed:!0}),a.setState({helpCount:a.state.helpCount+1})}else a.displayMessage("All helpful tips have been used!","negative",3e3)},a.handleBtnClick=function(e){if(e.preventDefault(),a.state.renderChoice){var t,n={positive:["Wow! You're on fire.","You're acing this!","This is incredible work!","I've never seen someone do such a great job!","Hey! You're pretty good at this."],okay:["That was alright I guess...","That wasn't the best choice... but it also wasn't the worst!","Eh, that was okay.","I guess it wasn't the worst choice you could have made.","I believe in you!"],negative:["Wow, that was a terrible choice.","Better luck next time!","Ugh, I thought you were better than this...","You'll get it correct some day.","Whoops! That was the wrong choice."]};document.getElementsByClassName("Choice__options--option-selected")[0].classList.remove("Choice__options--option-selected");for(var s=0;s<a.state.choiceElements.length;s++){if(a.state.choiceElements[s].selected)switch(a.state.choiceElements[s].quality){case"good":a.setState({score:a.state.score+5}),t="positive";break;case"okay":a.setState({score:a.state.score+1}),t="okay";break;case"bad":a.setState({score:a.state.score-5}),t="negative";break;default:a.setState({score:a.state.score})}if(a.state.helpCountUsed)document.getElementById("option_"+s).children[0].className="Choice__options--option-emoji"}if(a.displayMessage(n[t][Math.floor(Math.random()*n[t].length)],t,2e3),a.setState({day:a.state.day+1,selectionMade:!1}),a.setState({choicesIndex:a.state.choicesIndex+1},(function(){var e=a.shuffleArray(a.state.choices[a.state.choicesIndex]);a.setState({choiceElements:e})})),a.state.score>=5*(a.state.day-1)){var o=a.state.events[a.state.eventsIndex][0];a.setState({eventElement:o})}else if(a.state.score>=1*(a.state.day-1)){var l=a.state.events[a.state.eventsIndex][1];a.setState({eventElement:l})}else if(a.state.score<=0){var c=a.state.events[a.state.eventsIndex][2];a.setState({eventElement:c})}a.state.day%5===0&&a.setState({renderChoice:!1}),a.state.helpCountUsed&&a.setState({helpCountUsed:!1})}else a.setState({eventsIndex:a.state.eventsIndex+1,renderChoice:!0})},a.render=function(){return s.a.createElement("div",{className:"Story"},a.state.renderChoice?s.a.createElement(g,{elements:a.state.choiceElements,day:a.state.day,handleElementClick:a.handleElementClick,handleHelpClick:a.handleHelpCLick}):s.a.createElement(C,{title:a.state.eventElement.title,details:a.state.eventElement.details}),""!==a.state.message.data&&s.a.createElement("div",{className:"Story__message Story__message--".concat(a.state.message.state),id:"story-message"},s.a.createElement("p",null,a.state.message.data)),s.a.createElement("button",{className:"Story__btn",onClick:function(e){return a.handleBtnClick(e)},disabled:!a.state.selectionMade&&a.state.renderChoice},s.a.createElement("span",null,"Next"),s.a.createElement("i",{className:"material-icons"},"arrow_forward")))},a.state={day:1,score:0,selectionMade:!1,choices:[],choicesIndex:0,choiceElements:[],events:[],eventsIndex:0,eventElement:[],renderChoice:!0,helpCount:0,helpCountUsed:!1,message:{state:"",data:""}},a.handleElementClick=a.handleElementClick.bind(Object(E.a)(a)),a.handleHelpCLick=a.handleHelpCLick.bind(Object(E.a)(a)),a.handleBtnClick=a.handleBtnClick.bind(Object(E.a)(a)),a.shuffleArray=a.shuffleArray.bind(Object(E.a)(a)),a.displayMessage=a.displayMessage.bind(Object(E.a)(a)),a}return Object(v.a)(t,e),t}(s.a.Component),k=(a(67),function(){var e=Object(i.f)();return s.a.createElement("div",{className:"NoMatch"},s.a.createElement("h3",null,"No match for ",s.a.createElement("code",null,e.pathname)))});var N=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(i.c,null,s.a.createElement(i.a,{exact:!0,path:"/"},s.a.createElement(h,null)),s.a.createElement(i.a,{path:"/instructions"},s.a.createElement(d,null)),s.a.createElement(i.a,{path:"/story"},s.a.createElement(b,null)),s.a.createElement(i.a,{path:"*"},s.a.createElement(k,null))),s.a.createElement("div",{className:"App__border"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(c.a,null,s.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.5927bc9d.chunk.js.map